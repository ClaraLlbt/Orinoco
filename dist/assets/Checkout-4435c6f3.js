import{_,h as f,r as b,o as p,c as h,w as d,v as n,d as e,f as y,i as g,t as i,e as a,b as x,j as P}from"./index-3cb81dcb.js";const k="/Orinoco/assets/cb-methods-3f7743a3.png",C="/Orinoco/assets/4x-3659783e.png";const D={name:"Checkout",data(){return{Pmentconfirmation:!1,orderId:""}},created(){this.$store.dispatch("loadCaddyFromSessionStorage")},mounted(){document.querySelectorAll('input[type="radio"]'),document.querySelectorAll('.delivery-method .card input[type="radio"]').forEach(t=>{t.addEventListener("change",()=>{document.querySelectorAll(".delivery-method .card").forEach(r=>{r.classList.remove("select")});const s=t.getAttribute("data-target");document.getElementById(s).classList.add("select")})}),document.querySelectorAll('.payement-method .card input[type="radio"]').forEach(t=>{t.addEventListener("change",()=>{document.querySelectorAll(".payement-method .card").forEach(r=>{r.classList.remove("select")});const s=t.getAttribute("data-target");document.getElementById(s).classList.add("select")})})},computed:{...f(["getCaddy"]),caddy(){return this.getCaddy}},methods:{updateQuantity(t,s){this.$store.commit("updateQuantity",{articleIndex:t,newQuantity:s})},getTotalPrice(){return t=>this.$store.getters.getTotalPrice(t)},calculateTotalPrice(){return this.$store.getters.calculateTotalPrice},submitCaddy(){this.Pmentconfirmation=!this.Pmentconfirmation,this.orderID=this.generateOrderID()},generateOrderID(){var t=new Date,s="CMD-"+t.getFullYear()+this.pad(t.getMonth()+1)+this.pad(t.getDate())+"-"+this.pad(t.getHours())+this.pad(t.getMinutes())+this.pad(t.getSeconds())+"-"+Math.floor(Math.random()*1e4);return s},pad(t){return t<10?"0"+t:t},currentDate(){return this.$store.getters.getCurrentDate}}},w={class:"container checkout-ctr"},I=e("div",{class:"row header"},[e("a",{class:"navbar-brand",href:"#"}),e("div",{class:"col-8 col-lg-4"},[e("i",{class:"bi bi-file-lock2"}),a(" Paiement sécurisé")])],-1),R=e("hr",null,null,-1),q={class:"row order-validate"},A=e("div",{class:"col-12 col-md-7 client-form"},[e("div",{class:"row form-order"},[e("h2",null,[e("span",{class:"number"},[e("i",{class:"bi bi-1-circle"})]),a(" Vos informations")]),e("form",{action:"submit",class:"form",method:"post",id:"client-form"},[e("div",{class:"row"},[e("div",{class:"col-6"},[e("input",{type:"name",class:"form-control",id:"exampleInputName","aria-describedby":"nameHelp",placeholder:"Nom",required:"",autocomplete:""})]),e("div",{class:"col-6"},[e("input",{type:"lastname",class:"form-control",id:"exampleInputLastname",placeholder:"Prénom","aria-describedby":"lastnameHelp",required:""})])]),e("div",{class:"row"},[e("div",{class:"col-12"},[e("input",{type:"text",class:"form-control",id:"exampleInputAddress",placeholder:"Adresse","aria-describedby":"addressHelp",required:"",autocomplete:"address"})])]),e("div",{class:"row"},[e("div",{class:"col-6"},[e("input",{type:"text",class:"form-control",id:"exampleInputCity",placeholder:"Ville","aria-describedby":"cityHelp",required:""})]),e("div",{class:"col-6"},[e("input",{type:"text",class:"form-control",id:"exampleInputCP",placeholder:"CP","aria-describedby":"cpHelp",required:""})])]),e("div",{class:"row"},[e("div",{class:"col-12"},[e("input",{type:"email",class:"form-control",placeholder:"Adresse email",id:"exampleInputEmail1","aria-describedby":"emailHelp",required:"",autocomplete:"email"})])])])]),e("div",{class:"row delivery-method"},[e("h2",null,[e("span",{class:"number"},[e("i",{class:"bi bi-2-circle"})]),a(" Mode de livraison")]),e("div",{class:"col-12 card",id:"delivery-card"},[e("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1","data-target":"delivery-card"}),e("div",{class:"card-body"},[e("p",{class:"method"},[e("i",{class:"bi bi-house-door"}),a(" A domicile")]),e("p",{class:""},"Livraison à partir du 18/03")])]),e("div",{class:"col-12 card",id:"delivery-card2"},[e("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2","data-target":"delivery-card2"}),e("div",{class:"card-body"},[e("p",{class:"col-12 method"},[e("i",{class:"bi bi-shop"}),a(" Point de retrait standard")]),e("p",{class:"col-12"},"Livraison à partir du 18/03"),e("hr"),e("button",{class:"btn"},"Choisir un point de retrait")])]),e("div",{class:"col-12 card",id:"delivery-card3"},[e("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault3","data-target":"delivery-card3"}),e("div",{class:"card-body"},[e("p",{class:"col-12 method"},[e("i",{class:"bi bi-lightning"}),a(" Livraison Express")]),e("p",{class:"col-12"},"Livraison à partir du 18/03")])])]),e("div",{class:"row payement-method"},[e("h2",null,[e("span",{class:"number"},[e("i",{class:"bi bi-3-circle"})]),a(" Mode de paiement "),e("img",{src:k,width:"200",alt:""})]),e("div",{class:"row methods"},[e("div",{class:"col-12 col-md-4"},[e("div",{class:"card",id:"pment-card"},[e("input",{class:"form-check-input",type:"radio",name:"flexRadio",id:"flexRadio1","data-target":"pment-card"}),e("p",null,[e("i",{class:"bi bi-credit-card-fill"})]),e("p",null,"Carte de crédit")])]),e("div",{class:"col-12 col-md-4"},[e("div",{class:"card",id:"pment-card2"},[e("input",{class:"form-check-input",type:"radio",name:"flexRadio",id:"flexRadio2","data-target":"pment-card2"}),e("p",null,[e("i",{class:"bi bi-paypal"})]),e("p",null,"Paypal")])]),e("div",{class:"col-12 col-md-4"},[e("div",{class:"card",id:"pment-card3"},[e("input",{class:"form-check-input",type:"radio",name:"flexRadio",id:"flexRadio3","data-target":"pment-card3"}),e("img",{src:C,width:"100",alt:""})])])])])],-1),L={class:"col order"},E={class:"order-fixed"},S=e("h3",null,"Récapitulatif de la commande",-1),T={class:"checkout-summary"},M={id:"tableau",class:"table-responsive-lg table-hover"},V=e("thead",null,[e("tr",null,[e("th",null,"Articles"),e("th"),e("th",null,"Qté"),e("th",null,"Prix unitaire")])],-1),H=["src"],N=["value","onInput","onChange"],B={class:"table-line"},O=e("span",null,"Total",-1),Q=e("div",{class:"table-line"},[e("span",null,"TVA"),e("span",null,"2,99€")],-1),j=e("hr",null,null,-1),F={class:"table-line"},z=e("span",null,"Total de la commande:",-1),G={class:"checkbox"},U=e("input",{type:"checkbox",name:"acceptance-41",value:"1","aria-invalid":"false",required:""},null,-1),Y=e("hr",null,null,-1),J={class:"table-line"},K={class:"container Pment-confirmationc-ctr"},W={class:"card"},X=e("p",null,[a("Votre commande sera préparée avec soin dans les plus bref délais "),e("i",{class:"bi bi-box-seam"})],-1),Z=e("p",null,[a("Nous vous remercions de votre confiance et de l'intêret que vous portez à la photographie "),e("i",{class:"bi bi-camera"})],-1),$=e("p",null,"A bientôt ! ",-1),ee=e("button",{class:"btn back-home-btn"},[e("a",{href:"/"},"Retourner à l'accueil")],-1),te={class:"footer row"},ae=e("div",{class:"col-12 col-lg-6"},"Données personnelles protégées",-1),se=[ae];function le(t,s,r,ie,c,l){const v=b("RouterLink");return p(),h("div",w,[I,R,d(e("div",q,[A,e("div",L,[e("div",E,[S,e("div",T,[e("table",M,[V,e("tbody",null,[(p(!0),h(y,null,g(l.caddy,(o,u)=>(p(),h("tr",{key:u},[e("td",null,[e("img",{src:o.imageUrl,width:"100",alt:""},null,8,H)]),e("td",null,i(o.name),1),e("td",null,[e("input",{class:"col-8",type:"number",value:o.quantity,onInput:m=>l.updateQuantity(u,m.target.value),onChange:m=>l.updateQuantity(u,m.target.value)},null,40,N)]),e("td",null,i(o.price/100+"€"),1)]))),128))])]),e("div",B,[O,e("span",null,i(l.calculateTotalPrice())+"€",1)]),Q,j,e("div",F,[z,e("span",null,i(l.calculateTotalPrice()+2.99)+" €",1)]),e("div",G,[U,e("p",null,[a("En soumettant ce formulaire, j'accepte et je déclare avoir pris connaissance des "),x(v,{to:"/cgv"},{default:P(()=>[a("conditions générales de vente")]),_:1}),a(" Orinoco et être informé de mon droit de rétraction ")])]),Y,e("div",J,[e("button",{onClick:s[0]||(s[0]=o=>l.submitCaddy()),type:"submit",value:"Payer",class:"btn"},"Payer")])])])])],512),[[n,!c.Pmentconfirmation]]),d(e("div",K,[e("div",W,[e("h1",null,[a("Merci ! Votre commande "),e("span",null,i(this.orderID),1),a(" a été enregistré avec succès le "+i(l.currentDate()),1)]),X,Z,$,ee])],512),[[n,c.Pmentconfirmation]]),d(e("hr",null,null,512),[[n,!c.Pmentconfirmation]]),d(e("div",te,se,512),[[n,!c.Pmentconfirmation]])])}const re=_(D,[["render",le]]);export{re as default};
