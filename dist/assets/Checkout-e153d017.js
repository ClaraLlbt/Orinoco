import{_,h as f,r as b,o as p,c as h,w as d,v as n,d as e,f as y,i as g,t as i,e as a,b as x,j as I,k as P}from"./index-b0a867a8.js";const k="/Orinoco/assets/cb-methods-3f7743a3.png",C="/Orinoco/assets/4x-3659783e.png";const w={name:"Checkout",data(){return{Pmentconfirmation:!1,orderId:""}},created(){this.$store.dispatch("loadCaddyFromSessionStorage")},mounted(){document.querySelectorAll('input[type="radio"]'),document.querySelectorAll('.delivery-method .card input[type="radio"]').forEach(t=>{t.addEventListener("change",()=>{document.querySelectorAll(".delivery-method .card").forEach(r=>{r.classList.remove("select")});const s=t.getAttribute("data-target");document.getElementById(s).classList.add("select")})}),document.querySelectorAll('.payement-method .card input[type="radio"]').forEach(t=>{t.addEventListener("change",()=>{document.querySelectorAll(".payement-method .card").forEach(r=>{r.classList.remove("select")});const s=t.getAttribute("data-target");document.getElementById(s).classList.add("select")})})},computed:{...f(["getCaddy"]),caddy(){return this.getCaddy}},methods:{updateQuantity(t,s){this.$store.commit("updateQuantity",{articleIndex:t,newQuantity:s})},getTotalPrice(){return t=>this.$store.getters.getTotalPrice(t)},calculateTotalPrice(){return this.$store.getters.calculateTotalPrice},submitCaddy(){this.Pmentconfirmation=!this.Pmentconfirmation,this.orderID=this.generateOrderID()},generateOrderID(){var t=new Date,s="CMD-"+t.getFullYear()+this.pad(t.getMonth()+1)+this.pad(t.getDate())+"-"+this.pad(t.getHours())+this.pad(t.getMinutes())+this.pad(t.getSeconds())+"-"+Math.floor(Math.random()*1e4);return s},pad(t){return t<10?"0"+t:t},currentDate(){return this.$store.getters.getCurrentDate}}},D={class:"container checkout-ctr"},R=e("div",{class:"row header"},[e("img",{class:"logo col-2",src:P,width:"200"}),e("div",{class:"col-4"},[e("i",{class:"bi bi-file-lock2"}),a(" Paiement sécurisé")])],-1),A=e("hr",null,null,-1),E={class:"row order-validate"},L=e("div",{class:"col-7"},[e("div",{class:"row form-order"},[e("h2",null,[e("span",{class:"number"},[e("i",{class:"bi bi-1-circle"})]),a(" Vos informations")]),e("form",{action:"submit",class:"form",method:"post",id:"client-form"},[e("div",{class:"row"},[e("div",{class:"col-6"},[e("label",{for:"exampleInputName",class:"form-label"},"Nom"),e("input",{type:"name",class:"form-control",id:"exampleInputName","aria-describedby":"nameHelp",required:"",autocomplete:""})]),e("div",{class:"col-6"},[e("label",{for:"exampleInputLastname",class:"form-label"},"Prénom"),e("input",{type:"lastname",class:"form-control",id:"exampleInputLastname","aria-describedby":"lastnameHelp",required:""})])]),e("div",{class:"row"},[e("div",{class:"col-12"},[e("label",{for:"exampleInputAddress",class:"form-label"},"Address"),e("input",{type:"text",class:"form-control",id:"exampleInputAddress","aria-describedby":"addressHelp",required:"",autocomplete:"address"})])]),e("div",{class:"row"},[e("div",{class:"col-6"},[e("label",{for:"exampleInputEexampleInputCitymail1",class:"form-label"},"Ville"),e("input",{type:"text",class:"form-control",id:"exampleInputCity","aria-describedby":"cityHelp",required:""})]),e("div",{class:"col-6"},[e("label",{for:"exampleInputCP",class:"form-label"},"Code postal"),e("input",{type:"text",class:"form-control",id:"exampleInputCP","aria-describedby":"cpHelp",required:""})])]),e("div",{class:"row"},[e("div",{class:"col-12"},[e("label",{for:"exampleInputEmail1",class:"form-label"},"Email Address"),e("input",{type:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",required:"",autocomplete:"email"})])])])]),e("div",{class:"row delivery-method"},[e("h2",null,[e("span",{class:"number"},[e("i",{class:"bi bi-2-circle"})]),a(" Mode de livraison")]),e("div",{class:"col-12 card",id:"delivery-card"},[e("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1","data-target":"delivery-card"}),e("div",{class:"card-body"},[e("p",{class:"method"},[e("i",{class:"bi bi-house-door"}),a(" A domicile")]),e("p",{class:""},"Livraison à partir du 18/03")])]),e("div",{class:"col-12 card",id:"delivery-card2"},[e("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2","data-target":"delivery-card2"}),e("div",{class:"card-body"},[e("p",{class:"col-12 method"},[e("i",{class:"bi bi-shop"}),a(" Point de retrait standard")]),e("p",{class:"col-12"},"Livraison à partir du 18/03"),e("hr"),e("button",{class:"btn"},"Choisir un point de retrait")])]),e("div",{class:"col-12 card",id:"delivery-card3"},[e("input",{class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault3","data-target":"delivery-card3"}),e("div",{class:"card-body"},[e("p",{class:"col-12 method"},[e("i",{class:"bi bi-lightning"}),a(" Livraison Express")]),e("p",{class:"col-12"},"Livraison à partir du 18/03")])])]),e("div",{class:"row payement-method"},[e("h2",null,[e("span",{class:"number"},[e("i",{class:"bi bi-3-circle"})]),a(" Mode de paiement "),e("img",{src:k,width:"200",alt:""})]),e("div",{class:"row methods"},[e("div",{class:"col-4"},[e("div",{class:"card",id:"pment-card"},[e("input",{class:"form-check-input",type:"radio",name:"flexRadio",id:"flexRadio1","data-target":"pment-card"}),e("p",null,[e("i",{class:"bi bi-credit-card-fill"})]),e("p",null,"Carte de crédit")])]),e("div",{class:"col-4"},[e("div",{class:"card",id:"pment-card2"},[e("input",{class:"form-check-input",type:"radio",name:"flexRadio",id:"flexRadio2","data-target":"pment-card2"}),e("p",null,[e("i",{class:"bi bi-paypal"})]),e("p",null,"Paypal")])]),e("div",{class:"col-4"},[e("div",{class:"card",id:"pment-card3"},[e("input",{class:"form-check-input",type:"radio",name:"flexRadio",id:"flexRadio3","data-target":"pment-card3"}),e("img",{src:C,width:"100",alt:""})])])])])],-1),q={class:"col-4 order"},S={class:"order-fixed"},T=e("h3",null,"Récapitulatif de la commande",-1),M={class:"checkout-summary"},V={id:"tableau",class:"table-responsive-lg table-hover"},H=e("thead",null,[e("tr",null,[e("th",null,"Articles"),e("th"),e("th",null,"Qté"),e("th",null,"Prix unitaire")])],-1),N=["src"],B=["value","onInput","onChange"],O={class:"table-line"},Q=e("span",null,"Total",-1),j=e("div",{class:"table-line"},[e("span",null,"TVA"),e("span",null,"2,99€")],-1),F=e("hr",null,null,-1),z={class:"table-line"},G=e("span",null,"Total de la commande:",-1),U={class:"checkbox"},Y=e("input",{type:"checkbox",name:"acceptance-41",value:"1","aria-invalid":"false",required:""},null,-1),J=e("hr",null,null,-1),K={class:"table-line"},W={class:"container Pment-confirmationc-ctr"},X={class:"card"},Z=e("p",null,[a("Votre commande sera préparée avec soin dans les plus bref délais "),e("i",{class:"bi bi-box-seam"})],-1),$=e("p",null,[a("Nous vous remercions de votre confiance et de l'intêret que vous portez à la photographie "),e("i",{class:"bi bi-camera"})],-1),ee=e("p",null,"A bientôt ! ",-1),te=e("button",{class:"btn back-home-btn"},[e("a",{href:"/"},"Retourner à l'accueil")],-1),ae={class:"footer row"},se=e("div",{class:"col-6"},"Données personnelles protégées",-1),le=[se];function ie(t,s,r,oe,c,l){const v=b("RouterLink");return p(),h("div",D,[R,A,d(e("div",E,[L,e("div",q,[e("div",S,[T,e("div",M,[e("table",V,[H,e("tbody",null,[(p(!0),h(y,null,g(l.caddy,(o,u)=>(p(),h("tr",{key:u},[e("td",null,[e("img",{src:o.imageUrl,width:"100",alt:""},null,8,N)]),e("td",null,i(o.name),1),e("td",null,[e("input",{class:"col-8",type:"number",value:o.quantity,onInput:m=>l.updateQuantity(u,m.target.value),onChange:m=>l.updateQuantity(u,m.target.value)},null,40,B)]),e("td",null,i(o.price/100+"€"),1)]))),128))])]),e("div",O,[Q,e("span",null,i(l.calculateTotalPrice())+"€",1)]),j,F,e("div",z,[G,e("span",null,i(l.calculateTotalPrice()+2.99)+" €",1)]),e("div",U,[Y,e("p",null,[a("En soumettant ce formulaire, j'accepte et je déclare avoir pris connaissance des "),x(v,{to:"/cgv"},{default:I(()=>[a("conditions générales de vente")]),_:1}),a(" Orinoco et être informé de mon droit de rétraction ")])]),J,e("div",K,[e("button",{onClick:s[0]||(s[0]=o=>l.submitCaddy()),type:"submit",value:"Payer",class:"btn"},"Payer")])])])])],512),[[n,!c.Pmentconfirmation]]),d(e("div",W,[e("div",X,[e("h1",null,[a("Merci ! Votre commande "),e("span",null,i(this.orderID),1),a(" a été enregistré avec succès le "+i(l.currentDate()),1)]),Z,$,ee,te])],512),[[n,c.Pmentconfirmation]]),d(e("hr",null,null,512),[[n,!c.Pmentconfirmation]]),d(e("div",ae,le,512),[[n,!c.Pmentconfirmation]])])}const ce=_(w,[["render",ie]]);export{ce as default};
